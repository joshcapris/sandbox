<html>
<head>
    <title>Experiment Example</title>
</head>
<body>
    <h1>Experiment Example</h1>
<ul id="move">
<li><a href="javascript:void(0);">red</a></li>
<li><a href="javascript:void(0);">blue</a></li>
<li><a href="javascript:void(0);">teal</a></li>
<li><a href="javascript:void(0);">purple</a></li>
<li><a href="javascript:void(0);">grey</a></li>
</ul>
<br/>



<br/><br/><br/>

<div class="wrapper">


	<div class="panel red"><br/><br/><p>top to bottom</p></div>
	<div class="panel blue"><br/><br/><p>left to right</p></div>
	<div class="panel teal"><br/><br/><p>right to left</p></div>
	<div class="panel purple"><br/><br/><p>bottom to top</p></div>
	<div class="panel grey"><br/><br/><p>fade in</p></div>
	<div class="panelLast" style="">
		<div class="" style="border-radius:10px;width:20px;height:20px;background-color:#E8E8E8 ;border:1px solid #E8E8E8;position:absolute;z-index:1;margin-left:150px"></div>	
	</div>

</div>	
    <style>
        body {
        }

        a, a:hover {
        }
		.panel, .panelLast {
			border:1px solid #dcdcdc;
			width:300px;
			height:200px;
			padding:10px;
			text-align: center;
			position:absolute;
			transition:1s ease;
		}
		.panel p, .panelLast p
		{
			margin:0 auto;
			
		}

		.red
		{
			background-color:#E54B4B;			
		}
		.blue
		{
			background-color:#0082C8;
		}
		.teal
		{
			background-color:#146F73;
		}
		.purple
		{
			background-color:#72616E;		
		}
		.grey
		{
			background-color:#C8C8C8;
		}
		li
		{
			display:inline-block;
		}
		.wrapper {
			padding:10px;
			border:1px solid #dcdcdc;
			
		
		}
		@-webkit-keyframes mySlide
		{
			from { margin-left:-300px; }
			to { margin-left:0px;	}
		}
		
		@-webkit-keyframes mySlideTB
		{
			from { margin-top:-200px; }
			to { margin-top:0px;	}
		}
		
		@-webkit-keyframes mySlideBT
		{
			from { margin-top:300px; }
			to { margin-top:0px;	}
		}		
		
		@-webkit-keyframes mySlideRL
		{
			from { margin-left:300px; }
			to { margin-right:0px;	}
		}		
				
		
		@-webkit-keyframes myHide
		{
			0% { border:1px solid red; }
			100% { border:5px solid black; display:none;	}
		}		

		
		
		//firefox
		@-moz-keyframes mySlide
		{
			from { margin-left:-300px; }
			to { margin-left:0px;	}
		}
		@-moz-keyframes myHide
		{
			0% { border:1px solid red; }
			100% { border:5px solid black; display:none;	}
		}		
		
		
		
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script type="text/javascript">
	$(function(){
		//init
		$('.panel').css({'display':'none'});
		$('.panel').eq(0).css({'display':'block'});	
		
		zindx = 1;
		currentIndex = 0;
		lastIndex = 0;		
		clicks = [];
		
		$('#move li a').on('click', function(){
			var indx = $('#move li a').index($(this));			
			if(lastIndex == -1 || clicks.length == 0)
			{	
				if(lastIndex == indx || clicks.length > 0)
					return;			
				clicks.push(indx);						
			}
			else
			{
				console.log(clicks);
				return;
			}
			if(lastIndex >= 0)
			{
				$('.panel').eq(lastIndex).css('z-index','0');				
			}
			
			$('.panel').eq(indx).css({'display':'block','z-index':'1'});
			
			if(indx == 0)
				$('.panel').eq(indx).css({'-webkit-animation':'mySlideTB 1s ease','-moz-animation':'mySlideTB 1s ease'});
			else if(indx == 1)
				$('.panel').eq(indx).css({'-webkit-animation':'mySlide 1s ease','-moz-animation':'mySlide 1s ease'});			
			else if(indx == 2)
				$('.panel').eq(indx).css({'-webkit-animation':'mySlideRL 1s ease','-moz-animation':'mySlideRL 1s ease'});				
			else if(indx == 3)
				$('.panel').eq(indx).css({'-webkit-animation':'mySlideBT 1s ease','-moz-animation':'mySlideBT 1s ease'});								
			else if(indx == 4)				
				$('.panel').eq(indx).css({'-webkit-animation':'mySlide 1s ease','-moz-animation':'mySlide 1s ease'});													

		});
		$('.panel').on('animationend webkitAnimationEnd',function(event){
			clearPanel();
		});
		
		function clearPanel()
		{
			$('.panel').eq(Math.max(lastIndex,0)).css('display','none');
			currentIndex = clicks.pop();
			$('.panel').eq(Math.max(currentIndex,0)).removeAttr('style');			
			lastIndex = currentIndex;
			console.log('tester' + lastIndex);		
			console.log('clicks ' + clicks);					
		}
	});
	</script>
</body>
</html>
